# Hackathon Demo 功能测试用例

## 测试环境准备

### 前置条件
1. 后端服务已启动（默认端口：8080）
2. 数据库已配置并连接
3. 前端应用已启动（可选，用于UI测试）
4. 准备测试钱包地址（用于签名验证）
5. 准备测试工具：Postman、curl 或类似API测试工具

### 测试数据准备
- 主办方地址：`0x1234567890123456789012345678901234567890`（示例）
- 赞助商地址：`0x2345678901234567890123456789012345678901`（示例）
- 参与者地址：`0x3456789012345678901234567890123456789012`（示例）
- 测试活动名称：`测试黑客松2024`

---

## 一、活动管理模块测试

### TC-001: 创建活动（主办方）
**测试目标**：验证主办方可以成功创建新的Hackathon活动

**测试步骤**：
1. 发送POST请求到 `/api/v1/events`
2. 请求体：
```json
{
  "name": "测试黑客松2024",
  "description": "这是一个测试活动",
  "location": "线上",
  "start_time": "2024-12-01T09:00:00Z",
  "end_time": "2024-12-03T18:00:00Z",
  "registration_start_time": "2024-11-01T00:00:00Z",
  "registration_end_time": "2024-11-30T23:59:59Z",
  "checkin_start_time": "2024-12-01T08:00:00Z",
  "checkin_end_time": "2024-12-01T10:00:00Z",
  "submission_start_time": "2024-12-01T10:00:00Z",
  "submission_end_time": "2024-12-03T16:00:00Z",
  "voting_start_time": "2024-12-03T16:00:00Z",
  "voting_end_time": "2024-12-03T17:00:00Z",
  "organizer_address": "0x1234567890123456789012345678901234567890",
  "allow_sponsor_voting": true,
  "allow_public_voting": true,
  "on_chain": false,
  "prizes": [
    {
      "rank": 1,
      "name": "一等奖",
      "description": "最佳项目",
      "amount": "10000"
    },
    {
      "rank": 2,
      "name": "二等奖",
      "description": "优秀项目",
      "amount": "5000"
    }
  ]
}
```

**预期结果**：
- HTTP状态码：201
- 返回的活动对象包含所有提交的字段
- `id` 字段已生成
- `current_stage` 默认为 `"registration"`
- `created_at` 和 `updated_at` 已设置
- 奖项已正确关联

**验证点**：
- [ ] 活动ID已生成
- [ ] 所有时间字段正确保存
- [ ] 奖项配置正确
- [ ] 当前阶段为 `registration`

---

### TC-002: 获取活动列表
**测试目标**：验证可以获取所有活动列表

**测试步骤**：
1. 发送GET请求到 `/api/v1/events`

**预期结果**：
- HTTP状态码：200
- 返回活动数组
- 至少包含TC-001创建的活动

**验证点**：
- [ ] 返回数组格式正确
- [ ] 包含已创建的活动
- [ ] 活动信息完整

---

### TC-003: 获取单个活动详情
**测试目标**：验证可以获取指定活动的详细信息

**测试步骤**：
1. 使用TC-001创建的活动ID
2. 发送GET请求到 `/api/v1/events/{id}`

**预期结果**：
- HTTP状态码：200
- 返回完整的活动对象
- 包含所有关联数据（奖项等）

**验证点**：
- [ ] 活动信息完整
- [ ] 奖项信息正确
- [ ] 时间字段格式正确

---

### TC-004: 更新活动阶段
**测试目标**：验证主办方可以更新活动阶段

**测试步骤**：
1. 使用TC-001创建的活动ID
2. 发送PATCH请求到 `/api/v1/events/{id}/stage`
3. 请求体：
```json
{
  "stage": "checkin"
}
```

**预期结果**：
- HTTP状态码：200
- 返回更新后的活动对象
- `current_stage` 已更新为 `"checkin"`

**验证点**：
- [ ] 阶段更新成功
- [ ] 支持的有效阶段：`registration`, `checkin`, `submission`, `voting`, `awards`, `ended`
- [ ] 无效阶段返回400错误

---

### TC-005: 更新活动信息
**测试目标**：验证可以更新活动基本信息

**测试步骤**：
1. 使用TC-001创建的活动ID
2. 发送PUT请求到 `/api/v1/events/{id}`
3. 请求体：
```json
{
  "name": "更新后的活动名称",
  "description": "更新后的描述",
  "allow_sponsor_voting": false
}
```

**预期结果**：
- HTTP状态码：200
- 返回更新后的活动对象
- 只有提供的字段被更新

**验证点**：
- [ ] 字段更新成功
- [ ] 未提供的字段保持不变

---

## 二、赞助商和奖金池模块测试

### TC-006: 创建赞助商
**测试目标**：验证可以创建赞助商信息

**测试步骤**：
1. 发送POST请求到 `/api/v1/sponsors`
2. 请求体：
```json
{
  "name": "测试赞助商",
  "description": "这是一个测试赞助商",
  "logo_url": "https://example.com/logo.png",
  "website_url": "https://example.com",
  "address": "0x2345678901234567890123456789012345678901"
}
```

**预期结果**：
- HTTP状态码：201
- 返回创建的赞助商对象
- `id` 字段已生成

**验证点**：
- [ ] 赞助商ID已生成
- [ ] 所有字段正确保存

---

### TC-007: 创建赞助
**测试目标**：验证赞助商可以创建赞助申请

**测试步骤**：
1. 使用TC-001创建的活动ID和TC-006创建的赞助商ID
2. 发送POST请求到 `/api/v1/sponsorships`
3. 请求体：
```json
{
  "event_id": 1,
  "sponsor_id": 1,
  "asset_type": "erc20",
  "token_address": "0x0000000000000000000000000000000000000000",
  "amount": "10000",
  "amount_display": "10000 USDC",
  "voting_weight": "10000",
  "voting_power": 10000.0,
  "benefits": "Logo展示、投票权"
}
```

**预期结果**：
- HTTP状态码：201
- 返回创建的赞助对象
- `status` 为 `"pending"`

**验证点**：
- [ ] 赞助ID已生成
- [ ] 状态为 `pending`
- [ ] 支持资产类型：`erc20`, `native`, `nft`

---

### TC-008: 审批赞助
**测试目标**：验证主办方可以审批赞助申请

**测试步骤**：
1. 使用TC-007创建的赞助ID
2. 发送PATCH请求到 `/api/v1/sponsorships/{id}/approve`
3. 请求体：
```json
{
  "organizer_address": "0x1234567890123456789012345678901234567890"
}
```

**预期结果**：
- HTTP状态码：200
- 返回更新后的赞助对象
- `status` 更新为 `"approved"`

**验证点**：
- [ ] 状态更新成功
- [ ] 只有主办方地址可以审批

---

### TC-009: 创建奖金池
**测试目标**：验证可以为活动创建奖金池

**测试步骤**：
1. 使用TC-001创建的活动ID
2. 发送POST请求到 `/api/v1/funding-pools`
3. 请求体：
```json
{
  "event_id": 1,
  "contract_address": "0x0000000000000000000000000000000000000001"
}
```

**预期结果**：
- HTTP状态码：201
- 返回创建的奖金池对象
- `distributed` 为 `false`

**验证点**：
- [ ] 奖金池ID已生成
- [ ] 与活动正确关联

---

### TC-010: 更新奖金池金额
**测试目标**：验证可以更新奖金池总金额

**测试步骤**：
1. 使用TC-009创建的奖金池ID
2. 发送PUT请求到 `/api/v1/funding-pools/{id}`
3. 请求体：
```json
{
  "total_amount": "50000"
}
```

**预期结果**：
- HTTP状态码：200
- 返回更新后的奖金池对象
- `total_amount` 已更新

**验证点**：
- [ ] 金额更新成功

---

## 三、团队管理和报名模块测试

### TC-011: 创建团队
**测试目标**：验证参与者可以创建团队

**测试步骤**：
1. 发送POST请求到 `/api/v1/teams`
2. 请求体：
```json
{
  "name": "测试团队",
  "description": "这是一个测试团队",
  "leader_address": "0x3456789012345678901234567890123456789012",
  "max_members": 5,
  "skills": "Web3, Solidity, React",
  "members": [
    {
      "address": "0x3456789012345678901234567890123456789012",
      "name": "队长",
      "email": "leader@example.com",
      "skills": "Solidity",
      "role": "队长"
    }
  ]
}
```

**预期结果**：
- HTTP状态码：201
- 返回创建的团队对象
- `status` 为 `"pending"`
- 队长已添加到成员列表

**验证点**：
- [ ] 团队ID已生成
- [ ] 队长地址正确
- [ ] 成员列表包含队长

---

### TC-012: 添加团队成员
**测试目标**：验证可以向团队添加成员

**测试步骤**：
1. 使用TC-011创建的团队ID
2. 发送POST请求到 `/api/v1/teams/{id}/members`
3. 请求体：
```json
{
  "address": "0x4567890123456789012345678901234567890123",
  "name": "成员1",
  "email": "member1@example.com",
  "skills": "React",
  "role": "前端开发"
}
```

**预期结果**：
- HTTP状态码：200
- 返回更新后的团队对象
- 新成员已添加到成员列表

**验证点**：
- [ ] 成员添加成功
- [ ] 成员数量未超过 `max_members`

---

### TC-013: 审批团队
**测试目标**：验证主办方可以审批团队

**测试步骤**：
1. 使用TC-011创建的团队ID
2. 发送PATCH请求到 `/api/v1/teams/{id}/approve`
3. 请求体：
```json
{
  "organizer_address": "0x1234567890123456789012345678901234567890"
}
```

**预期结果**：
- HTTP状态码：200
- 返回更新后的团队对象
- `status` 更新为 `"approved"`

**验证点**：
- [ ] 状态更新成功

---

### TC-014: 提交报名
**测试目标**：验证团队可以报名参加活动

**测试步骤**：
1. 使用TC-001创建的活动ID和TC-011创建的团队ID
2. 发送POST请求到 `/api/v1/registrations`
3. 请求体：
```json
{
  "event_id": 1,
  "team_id": 1,
  "project_name": "测试项目",
  "project_description": "这是一个测试项目描述"
}
```

**预期结果**：
- HTTP状态码：201
- 返回创建的报名对象
- `status` 为 `"pending"`

**验证点**：
- [ ] 报名ID已生成
- [ ] 与活动和团队正确关联

---

### TC-015: 审批报名
**测试目标**：验证主办方可以审批报名

**测试步骤**：
1. 使用TC-014创建的报名ID
2. 发送PATCH请求到 `/api/v1/registrations/{id}/approve`
3. 请求体：
```json
{
  "organizer_address": "0x1234567890123456789012345678901234567890"
}
```

**预期结果**：
- HTTP状态码：200
- 返回更新后的报名对象
- `status` 更新为 `"approved"`

**验证点**：
- [ ] 状态更新成功

---

## 四、签到模块测试

### TC-016: 生成签到二维码
**测试目标**：验证可以生成签到二维码

**测试步骤**：
1. 使用TC-001创建的活动ID（活动阶段需为 `checkin`）
2. 发送GET请求到 `/api/v1/check-ins/event/{eventId}/qrcode`

**预期结果**：
- HTTP状态码：200
- 返回二维码信息对象
- 包含 `message`、`qr_code`、`expires_at` 字段

**验证点**：
- [ ] 二维码信息完整
- [ ] 包含签名消息
- [ ] 过期时间已设置

---

### TC-017: 用户签到（签名验证）
**测试目标**：验证用户可以通过签名完成签到

**前置条件**：
- 活动阶段必须为 `checkin`
- 用户已报名（TC-014）
- 已获取签到消息（TC-016）

**测试步骤**：
1. 使用钱包对TC-016返回的 `message` 进行签名
2. 发送POST请求到 `/api/v1/check-ins`
3. 请求体：
```json
{
  "event_id": 1,
  "user_address": "0x3456789012345678901234567890123456789012",
  "signature": "0x...（签名结果）",
  "message": "（TC-016返回的消息）",
  "team_id": 1,
  "ip_address": "192.168.1.1",
  "device_info": "Chrome/Windows"
}
```

**预期结果**：
- HTTP状态码：201
- 返回创建的签到记录
- 包含签名、消息、时间戳等信息

**验证点**：
- [ ] 签名验证通过
- [ ] 签到记录创建成功
- [ ] 防止重复签到（同一用户再次签到应返回错误）

---

### TC-018: 查询签到状态
**测试目标**：验证可以查询用户的签到状态

**测试步骤**：
1. 使用TC-001创建的活动ID和用户地址
2. 发送GET请求到 `/api/v1/check-ins/event/{eventId}/user/{address}`

**预期结果**：
- HTTP状态码：200（已签到）或404（未签到）
- 返回签到记录（如果已签到）

**验证点**：
- [ ] 已签到用户返回记录
- [ ] 未签到用户返回404

---

### TC-019: 获取签到人数统计
**测试目标**：验证可以获取活动的签到人数

**测试步骤**：
1. 使用TC-001创建的活动ID
2. 发送GET请求到 `/api/v1/check-ins/event/{eventId}/count`

**预期结果**：
- HTTP状态码：200
- 返回签到人数统计
- 格式：`{"count": 数字}`

**验证点**：
- [ ] 返回正确的签到人数
- [ ] 与实际的签到记录数量一致

---

### TC-020: 获取活动签到列表
**测试目标**：验证可以获取活动的所有签到记录

**测试步骤**：
1. 使用TC-001创建的活动ID
2. 发送GET请求到 `/api/v1/check-ins/event/{eventId}`

**预期结果**：
- HTTP状态码：200
- 返回签到记录数组
- 包含所有已签到的用户信息

**验证点**：
- [ ] 返回数组格式正确
- [ ] 包含所有签到记录

---

## 五、作品提交模块测试

### TC-021: 提交作品
**测试目标**：验证团队可以提交作品

**前置条件**：
- 活动阶段必须为 `submission`
- 团队已报名并被审批

**测试步骤**：
1. 发送POST请求到 `/api/v1/submissions`
2. 请求体：
```json
{
  "event_id": 1,
  "team_id": 1,
  "title": "测试项目作品",
  "description": "这是一个测试项目的详细描述",
  "github_repo": "https://github.com/example/project",
  "demo_url": "https://demo.example.com",
  "documentation": "项目文档内容",
  "storage_url": "ipfs://Qm...",
  "submitted_by": "0x3456789012345678901234567890123456789012",
  "files": [
    {
      "file_name": "demo.mp4",
      "file_type": "video/mp4",
      "url": "https://ipfs.io/ipfs/Qm...",
      "hash": "Qm..."
    }
  ]
}
```

**预期结果**：
- HTTP状态码：201
- 返回创建的作品提交对象
- `status` 为 `"pending"`
- 包含作品哈希和时间戳

**验证点**：
- [ ] 作品ID已生成
- [ ] 所有字段正确保存
- [ ] 文件信息正确关联

---

### TC-022: 获取活动作品列表
**测试目标**：验证可以获取活动的所有作品提交

**测试步骤**：
1. 使用TC-001创建的活动ID
2. 发送GET请求到 `/api/v1/submissions/event/{eventId}`

**预期结果**：
- HTTP状态码：200
- 返回作品提交数组
- 包含所有已提交的作品

**验证点**：
- [ ] 返回数组格式正确
- [ ] 包含所有作品

---

### TC-023: 审批作品
**测试目标**：验证主办方可以审批作品

**测试步骤**：
1. 使用TC-021创建的作品ID
2. 发送PATCH请求到 `/api/v1/submissions/{id}/approve`
3. 请求体：
```json
{
  "organizer_address": "0x1234567890123456789012345678901234567890",
  "comment": "作品质量优秀"
}
```

**预期结果**：
- HTTP状态码：200
- 返回更新后的作品对象
- `status` 更新为 `"approved"`
- `reviewer_comment` 已设置

**验证点**：
- [ ] 状态更新成功
- [ ] 评论已保存

---

## 六、投票系统测试

### TC-024: 添加评委
**测试目标**：验证主办方可以添加评委

**测试步骤**：
1. 使用TC-001创建的活动ID
2. 发送POST请求到 `/api/v1/events/{eventId}/judges`
3. 请求体：
```json
{
  "address": "0x5678901234567890123456789012345678901234",
  "weight": 1.0,
  "max_votes": 3,
  "organizer_address": "0x1234567890123456789012345678901234567890"
}
```

**预期结果**：
- HTTP状态码：201
- 返回创建的评委对象
- 评委已添加到白名单

**验证点**：
- [ ] 评委ID已生成
- [ ] 权重和最大投票数正确

---

### TC-025: 评委投票
**测试目标**：验证评委可以对作品进行投票

**前置条件**：
- 活动阶段必须为 `voting`
- 评委已在白名单中（TC-024）
- 作品已提交并被审批（TC-021, TC-023）

**测试步骤**：
1. 发送POST请求到 `/api/v1/votes`
2. 请求体：
```json
{
  "event_id": 1,
  "submission_id": 1,
  "voter_address": "0x5678901234567890123456789012345678901234",
  "voter_type": "judge",
  "weight": 1.0,
  "reason": "项目创新性强，技术实现优秀"
}
```

**预期结果**：
- HTTP状态码：201
- 返回创建的投票对象
- 投票记录已保存

**验证点**：
- [ ] 投票ID已生成
- [ ] 投票类型为 `judge`
- [ ] 权重正确

---

### TC-026: 赞助商投票
**测试目标**：验证赞助商可以对作品进行投票

**前置条件**：
- 活动允许赞助商投票（`allow_sponsor_voting: true`）
- 赞助已审批（TC-008）
- 活动阶段为 `voting`

**测试步骤**：
1. 发送POST请求到 `/api/v1/votes`
2. 请求体：
```json
{
  "event_id": 1,
  "submission_id": 1,
  "voter_address": "0x2345678901234567890123456789012345678901",
  "voter_type": "sponsor",
  "weight": 10000.0,
  "reason": "符合我们的投资方向"
}
```

**预期结果**：
- HTTP状态码：201
- 返回创建的投票对象
- 投票权重基于赞助金额

**验证点**：
- [ ] 投票类型为 `sponsor`
- [ ] 权重基于赞助金额计算

---

### TC-027: 公众投票
**测试目标**：验证公众可以对作品进行投票

**前置条件**：
- 活动允许公众投票（`allow_public_voting: true`）
- 活动阶段为 `voting`

**测试步骤**：
1. 发送POST请求到 `/api/v1/votes`
2. 请求体：
```json
{
  "event_id": 1,
  "submission_id": 1,
  "voter_address": "0x6789012345678901234567890123456789012345",
  "voter_type": "public",
  "weight": 1.0,
  "reason": "喜欢这个项目"
}
```

**预期结果**：
- HTTP状态码：201
- 返回创建的投票对象
- 投票记录已保存

**验证点**：
- [ ] 投票类型为 `public`
- [ ] 防止重复投票（同一地址对同一作品只能投票一次）

---

### TC-028: 获取投票统计
**测试目标**：验证可以获取活动的投票统计信息

**测试步骤**：
1. 使用TC-001创建的活动ID
2. 发送GET请求到 `/api/v1/votes/event/{eventId}/summary`

**预期结果**：
- HTTP状态码：200
- 返回投票统计数组
- 每个作品包含：
  - `total_weight`: 总权重
  - `judge_weight`: 评委权重
  - `sponsor_weight`: 赞助商权重
  - `public_weight`: 公众权重
  - `vote_count`: 投票数量

**验证点**：
- [ ] 统计数据准确
- [ ] 权重分类正确
- [ ] 可用于排名计算

---

### TC-029: 获取作品投票列表
**测试目标**：验证可以获取特定作品的所有投票

**测试步骤**：
1. 使用TC-021创建的作品ID
2. 发送GET请求到 `/api/v1/votes/submission/{submissionId}`

**预期结果**：
- HTTP状态码：200
- 返回投票记录数组
- 包含所有对该作品的投票

**验证点**：
- [ ] 返回所有投票记录
- [ ] 包含投票者信息和权重

---

## 七、结果和排名模块测试

### TC-030: 查看投票结果
**测试目标**：验证可以查看活动的投票结果和排名

**前置条件**：
- 活动已进入 `voting` 或 `awards` 阶段
- 已有多个作品提交和投票

**测试步骤**：
1. 使用TC-028获取投票统计
2. 根据 `total_weight` 排序生成排名

**预期结果**：
- 可以获取完整的投票统计
- 可以按权重排序
- 可以区分不同投票类型的权重

**验证点**：
- [ ] 排名计算正确
- [ ] 权重汇总准确
- [ ] 支持多维度统计

---

## 八、奖金池管理测试

### TC-031: 锁定奖金池
**测试目标**：验证可以设置奖金池锁定时间

**测试步骤**：
1. 使用TC-001创建的活动ID
2. 发送PATCH请求到 `/api/v1/funding-pools/event/{eventId}/lock`
3. 请求体：
```json
{
  "locked_until": "2024-12-10T00:00:00Z"
}
```

**预期结果**：
- HTTP状态码：200
- 返回更新后的奖金池对象
- `locked_until` 已设置

**验证点**：
- [ ] 锁定时间正确设置
- [ ] 在锁定期间不能分发奖金

---

### TC-032: 标记奖金已分发
**测试目标**：验证可以标记奖金池已分发

**测试步骤**：
1. 使用TC-001创建的活动ID
2. 发送PATCH请求到 `/api/v1/funding-pools/event/{eventId}/distribute`

**预期结果**：
- HTTP状态码：200
- 返回更新后的奖金池对象
- `distributed` 更新为 `true`

**验证点**：
- [ ] 分发状态更新成功
- [ ] 防止重复分发

---

## 九、边界和异常测试

### TC-033: 重复签到测试
**测试目标**：验证系统防止重复签到

**测试步骤**：
1. 使用TC-017完成一次签到
2. 使用相同的用户地址和活动ID再次尝试签到

**预期结果**：
- HTTP状态码：400
- 错误信息：`"user already checked in"`

**验证点**：
- [ ] 重复签到被拒绝
- [ ] 错误信息清晰

---

### TC-034: 阶段限制测试
**测试目标**：验证操作受活动阶段限制

**测试步骤**：
1. 活动阶段为 `registration` 时尝试签到
2. 活动阶段为 `checkin` 时尝试提交作品
3. 活动阶段为 `submission` 时尝试投票

**预期结果**：
- 不符合阶段的操作返回400错误
- 错误信息说明当前阶段不允许该操作

**验证点**：
- [ ] 阶段限制生效
- [ ] 错误信息准确

---

### TC-035: 权限验证测试
**测试目标**：验证操作权限控制

**测试步骤**：
1. 使用非主办方地址尝试审批团队
2. 使用非队长地址尝试添加团队成员
3. 使用非评委地址尝试以评委身份投票

**预期结果**：
- 无权限的操作返回400或403错误
- 错误信息说明权限不足

**验证点**：
- [ ] 权限控制生效
- [ ] 错误信息清晰

---

### TC-036: 数据验证测试
**测试目标**：验证输入数据校验

**测试步骤**：
1. 创建活动时缺少必填字段
2. 使用无效的地址格式
3. 使用无效的时间格式
4. 使用无效的枚举值

**预期结果**：
- HTTP状态码：400
- 错误信息说明具体验证失败原因

**验证点**：
- [ ] 必填字段验证
- [ ] 格式验证
- [ ] 枚举值验证

---

## 十、集成测试场景

### TC-037: 完整活动流程测试
**测试目标**：验证完整的Hackathon活动流程

**测试步骤**：
1. **活动创建**：创建活动（TC-001）
2. **赞助商管理**：创建赞助商和赞助（TC-006, TC-007, TC-008）
3. **奖金池设置**：创建奖金池（TC-009, TC-010）
4. **团队报名**：创建团队、审批、报名（TC-011, TC-013, TC-014, TC-015）
5. **签到阶段**：更新阶段为 `checkin`，生成二维码，用户签到（TC-004, TC-016, TC-017）
6. **作品提交**：更新阶段为 `submission`，提交作品，审批作品（TC-004, TC-021, TC-023）
7. **投票阶段**：更新阶段为 `voting`，添加评委，进行投票（TC-004, TC-024, TC-025, TC-026, TC-027）
8. **结果统计**：获取投票统计和排名（TC-028, TC-030）
9. **奖金分发**：锁定奖金池，标记已分发（TC-031, TC-032）

**预期结果**：
- 所有步骤成功执行
- 数据在各阶段正确流转
- 最终可以生成完整的活动报告

**验证点**：
- [ ] 流程完整无阻塞
- [ ] 数据一致性
- [ ] 状态转换正确

---

## 测试执行记录

### 测试环境信息
- 测试日期：___________
- 测试人员：___________
- 后端版本：___________
- 数据库版本：___________

### 测试结果汇总

| 测试用例ID | 测试用例名称 | 执行状态 | 通过/失败 | 备注 |
|-----------|------------|---------|----------|------|
| TC-001 | 创建活动 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-002 | 获取活动列表 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-003 | 获取单个活动详情 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-004 | 更新活动阶段 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-005 | 更新活动信息 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-006 | 创建赞助商 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-007 | 创建赞助 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-008 | 审批赞助 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-009 | 创建奖金池 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-010 | 更新奖金池金额 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-011 | 创建团队 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-012 | 添加团队成员 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-013 | 审批团队 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-014 | 提交报名 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-015 | 审批报名 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-016 | 生成签到二维码 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-017 | 用户签到 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-018 | 查询签到状态 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-019 | 获取签到人数统计 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-020 | 获取活动签到列表 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-021 | 提交作品 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-022 | 获取活动作品列表 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-023 | 审批作品 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-024 | 添加评委 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-025 | 评委投票 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-026 | 赞助商投票 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-027 | 公众投票 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-028 | 获取投票统计 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-029 | 获取作品投票列表 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-030 | 查看投票结果 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-031 | 锁定奖金池 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-032 | 标记奖金已分发 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-033 | 重复签到测试 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-034 | 阶段限制测试 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-035 | 权限验证测试 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-036 | 数据验证测试 | ☐ | ☐ 通过 ☐ 失败 | |
| TC-037 | 完整活动流程测试 | ☐ | ☐ 通过 ☐ 失败 | |

### 问题记录

| 问题ID | 测试用例ID | 问题描述 | 严重程度 | 状态 |
|-------|-----------|---------|---------|------|
| | | | | |

---

## 附录：API测试工具使用示例

### 使用 curl 测试

```bash
# 创建活动
curl -X POST http://localhost:8080/api/v1/events \
  -H "Content-Type: application/json" \
  -d '{
    "name": "测试黑客松2024",
    "start_time": "2024-12-01T09:00:00Z",
    "end_time": "2024-12-03T18:00:00Z",
    "organizer_address": "0x1234567890123456789012345678901234567890"
  }'

# 获取活动列表
curl -X GET http://localhost:8080/api/v1/events

# 获取单个活动
curl -X GET http://localhost:8080/api/v1/events/1
```

### 使用 Postman 测试

1. 导入 OpenAPI 规范文件：`backend/contract/openapi.yaml`
2. 配置环境变量：
   - `base_url`: `http://localhost:8080`
   - `event_id`: `1`
   - `organizer_address`: `0x1234567890123456789012345678901234567890`
3. 使用 Collection Runner 批量执行测试用例

---

## 注意事项

1. **测试顺序**：部分测试用例有依赖关系，建议按顺序执行
2. **数据清理**：测试完成后建议清理测试数据，避免影响后续测试
3. **签名测试**：签到功能需要真实的钱包签名，建议使用测试钱包
4. **时间设置**：测试时注意时间字段的设置，确保活动阶段转换正常
5. **并发测试**：建议进行并发测试，验证系统的并发处理能力
6. **性能测试**：对于投票统计等查询接口，建议进行性能测试

---

**文档版本**：v1.0  
**最后更新**：2024年  
**维护人员**：开发团队

